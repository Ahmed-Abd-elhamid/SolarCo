<app-page-banner [title]="title"></app-page-banner>
<div class="container spacing">
    <div class="row justify-content-center text-center">
        <mat-card>
            <mat-card-title class="rounded shadow text-white p-2">Electricity Consumption</mat-card-title>
            <hr>
            <div *ngIf="error || (client_request['consump'] && client_request['consump'] <= 0)"
                class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ error }}
                <span *ngIf="client_request['consump'] && client_request['consump'] <= 0">The Consumption input not
                    valid!</span>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="error=''">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <mat-card-content class="border rounded p-3">
                <mat-form-field class="example-form-field">
                    <mat-label>Electricity Consumption</mat-label>
                    <input matInput type="number" [(ngModel)]="client_request['consump']" min="0" max="1000" />
                    <mat-hint align="start"><strong>Consumption per month (kwh)</strong> </mat-hint>
                    <mat-hint align="end"> {{ client_request['consump'] }} </mat-hint>
                </mat-form-field>
            </mat-card-content>
            <mat-card-actions *ngIf="client_request['consump'] > 0">
                <a mat-button class="btn rounded shadow btn-outline-success mr-3" *ngIf="!client_request['lat']"
                    (click)="getLocation()">GetLocation</a>
                <button mat-button class="btn rounded shadow btn-outline-primary" [disabled]="!ignore"
                    (click)="confirm()">Confirm</button>
            </mat-card-actions>
            <mat-card-footer class="text-center" *ngIf="client_request['consump'] > 0">

                <p class="bg-warning text-dark m-3 text-dark m-2 rounded text-center" *ngIf="!client_request['lat']">
                    <input type="checkbox" class="mr-2" [checked]="ignore" (change)="ignore = !ignore" /> Igonre
                    GetLocation</p>
                <p class="bg-success text-dark m-3 rounded text-center" *ngIf="client_request['lat']">We Got Your
                    Location
                    succefully!</p>
            </mat-card-footer>
        </mat-card>
    </div>
</div>